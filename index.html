<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Jedi Archives</title>
<style>
:root{
  --bg:#040405; --panel:#0b0b0c; --muted:#9aa0a6; --accent:#ffe81f;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:#eee;overflow-x:hidden}
header{display:flex;align-items:center;gap:12px;padding:12px 16px;background:linear-gradient(180deg,rgba(255,232,31,0.03),transparent);position:sticky;top:0;z-index:50}
.logo{width:56px;height:56px;border-radius:8px;object-fit:cover;border:2px solid rgba(255,232,31,0.12);cursor:pointer}
.title{color:var(--accent);font-weight:700;letter-spacing:1px}
.controls{margin-left:auto;display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:8px 10px;border-radius:8px;cursor:pointer}
.container{display:flex;gap:14px;padding:14px;height:calc(100vh - 88px);flex-wrap:wrap}
.sidebar{width:260px;padding:12px;border-radius:10px;background:rgba(255,255,255,0.02);overflow:auto;flex-shrink:0}
.main{flex:1;overflow:auto;padding:8px;min-width:300px}
.search input{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
.section{margin-bottom:14px;padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border:1px solid rgba(255,255,255,0.02)}
.h2{color:var(--accent);margin:0 0 8px 0}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.card{background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;transition:transform .18s,box-shadow .18s;cursor:default}
.card:hover{transform:translateY(-6px);box-shadow:0 10px 30px rgba(0,0,0,0.6)}
.thumb{width:100%;height:140px;object-fit:cover;border-radius:8px}
.small{color:var(--muted);font-size:0.9rem}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.fadein{animation:fade .5s ease}
@keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
.footer{padding:12px;text-align:center;color:#8a8f95;font-size:0.85rem}

/* responsive */
@media (max-width:900px){.container{flex-direction:column;height:auto}.sidebar{width:100%}}
</style>
</head>
<body>

<header>
  <img src="yoda.jpg" class="logo" alt="Yoda" onerror="this.style.display='none'">
  <div class="title">Jedi Archives</div>
  <div class="controls">
    <button id="themeBtn" class="btn">ðŸŒ— Theme</button>
    <button id="playBtn" class="btn">â–¶ Cantina spielen</button>
    <button id="factBtn" class="btn">âœ¨ Zufalls-Fact</button>
  </div>
</header>

<div class="container">
  <aside class="sidebar">
    <div class="search section">
      <input id="q" placeholder="Suche z. B. Luke, Tatooine, Falcon..." oninput="renderAll()" />
    </div>

    <div class="section">
      <div class="h2">Filter</div>
      <div class="row">
        <button class="btn" onclick="setFilter('all')">Alle</button>
        <button class="btn" onclick="setFilter('characters')">Charaktere</button>
        <button class="btn" onclick="setFilter('planets')">Planeten</button>
        <button class="btn" onclick="setFilter('films')">Filme</button>
        <button class="btn" onclick="setFilter('starships')">Schiffe</button>
        <button class="btn" onclick="setFilter('families')">Familien</button>
      </div>
    </div>

    <div id="factBox" class="section small" style="display:none"></div>

    <div id="audio-hint" class="section small">
      Hinweis: Lade optional <code>cantina_blues.mp3</code> ins Repo-Root, damit der Play-Button Ton abspielt.
    </div>
  </aside>

  <main class="main">
    <section id="characters" class="section fadein">
      <h3 class="h2">Charaktere</h3>
      <div id="characters-grid" class="grid"></div>
    </section>

    <section id="planets" class="section fadein">
      <h3 class="h2">Planeten</h3>
      <div id="planets-grid" class="grid"></div>
    </section>

    <section id="starships" class="section fadein">
      <h3 class="h2">Starships & Vehicles</h3>
      <div id="starships-grid" class="grid"></div>
    </section>

    <section id="films" class="section fadein">
      <h3 class="h2">Filme</h3>
      <div id="films-grid" class="grid"></div>
    </section>

    <section id="families" class="section fadein">
      <h3 class="h2">Family Trees</h3>
      <div id="families-list"></div>
    </section>

    <div class="footer">Â© 2025 Jedi Archives â€” Fanprojekt</div>
  </main>
</div>

<audio id="cantina" src="cantina_blues.mp3" preload="none"></audio>

<script>
/* ---------------- DATA ---------------- */
const DATA = {
  characters:[
    {id:'luke',name:'Luke Skywalker',role:'Jedi',born:'19 BBY',img:'luke.jpg',bio:'Sohn von Anakin, Held der Rebellion.'},
    {id:'leia',name:'Leia Organa',role:'General',born:'19 BBY',img:'leia.jpg',bio:'Prinzessin, AnfÃ¼hrerin der Rebellion.'},
    {id:'anakin',name:'Anakin Skywalker',role:'Jedi â†’ Darth Vader',born:'41 BBY',img:'anakin.jpg',bio:'Vom Jedi zum Sith.'},
    {id:'vader',name:'Darth Vader',role:'Sith',born:'41 BBY',img:'vader.jpg',bio:'Ehemals Anakin Skywalker.'},
    {id:'yoda',name:'Yoda',role:'Jedi Meister',born:'~896 BBY',img:'yoda.jpg',bio:'Weiser Meister des Jedi-Ordens.'},
    {id:'obiwan',name:'Obi-Wan Kenobi',role:'Jedi Meister',born:'57 BBY',img:'obiwan.jpg',bio:'Mentor von Anakin & Luke.'},
    {id:'han',name:'Han Solo',role:'Pilot',born:'? BBY',img:'han.jpg',bio:'Captain der Millennium Falcon.'},
    {id:'chewbacca',name:'Chewbacca',role:'Co-Pilot',born:'? BBY',img:'chewbacca.jpg',bio:'Wookiee, treuer Freund Han.'},
    {id:'rey',name:'Rey',role:'Jedi',born:'? BBY',img:'rey.jpg',bio:'Zentrale Figur der Sequels.'},
    {id:'kylo',name:'Kylo Ren',role:'Dark',born:'? BBY',img:'kylo.jpg',bio:'Ben Solo, von der Dunkelheit verfÃ¼hrt.'},
    {id:'palpatine',name:'Sheev Palpatine',role:'Sith Lord',img:'palpatine.jpg',bio:'Darth Sidious, Imperator.'}
  ],
  planets:[
    {id:'tatooine',name:'Tatooine',img:'tatooine.jpg',brief:'WÃ¼stenplanet; zwei Sonnen.'},
    {id:'naboo',name:'Naboo',img:'naboo.jpg',brief:'GrÃ¼ne Welt; PadmÃ©s Heimat.'},
    {id:'coruscant',name:'Coruscant',img:'coruscant.jpg',brief:'Stadtplanet; Zentrum der Politik.'},
    {id:'mustafar',name:'Mustafar',img:'mustafar.jpg',brief:'Vulkanwelt; Duellplatz.'}
  ],
  starships:[
    {id:'falcon',name:'Millennium Falcon',img:'falcon.jpg',brief:'Schnelles Corellianer-Schiff.'},
    {id:'xwing',name:'X-Wing',img:'xwing.jpg',brief:'Rebellischer SternenjÃ¤ger.'},
    {id:'tie',name:'TIE Fighter',img:'tiefighter.jpg',brief:'Imperialer JÃ¤ger.'},
    {id:'at-at',name:'AT-AT',img:'at-at.jpg',brief:'Imperiale Laufmaschine.'}
  ],
  films:[
    {id:'ep4',title:'A New Hope',year:1977,desc:'Episode IV â€“ Beginn der Saga.',yt:'https://www.youtube.com/embed/vZ734NWnAHA'},
    {id:'ep5',title:'The Empire Strikes Back',year:1980,desc:'Episode V â€“ Wendepunkt.',yt:'https://www.youtube.com/embed/JNwNXF9Y6kY'},
    {id:'ep6',title:'Return of the Jedi',year:1983,desc:'Episode VI â€“ Abschluss.',yt:'https://www.youtube.com/embed/7L8p7_SLzvU'},
    {id:'ep7',title:'The Force Awakens',year:2015,desc:'Episode VII â€“ neue Helden.',yt:'https://www.youtube.com/embed/sGbxmsDFVnE'}
  ],
  families:{
    "Skywalker":["Shmi Skywalker","Anakin Skywalker / Darth Vader","Luke Skywalker","Leia Organa","Ben Solo"],
    "Organa/Solo":["Bail Organa","Leia Organa","Han Solo","Ben Solo"]
  },
  facts:[
    "Der ursprÃ¼ngliche Filmtitel von Episode IV war einfach 'Star Wars' (1977).",
    "Yoda ist in vielen Filmen ein praktischer Effekt (Puppe) und spÃ¤ter CGI.",
    "Die Cantina-Szene in Episode IV enthielt neuartige Sound-Creations.",
    "George Lucas benutzte fÃ¼r Coruscant viele Bilder von modernen StÃ¤dten.",
    "Chewbacca sollte ursprÃ¼nglich blau sein.",
    "R2-D2 wurde nach einem weiblichen Roboter aus einem Werbespot benannt.",
    "Lightsaber-Klingen wurden mit rotierenden Spiegeln und Lichtreflexionen erzeugt."
  ]
};

/* ---------------- STATE ---------------- */
let active='all';
function setFilter(k){active=k;renderAll();}
function qmatch(q,s){return!q||(s||'').toLowerCase().includes(q.toLowerCase());}

/* ---------------- RENDER ---------------- */
function renderAll(){
  const q=document.getElementById('q').value.trim();
  renderGrid('characters-grid',DATA.characters.filter(c=>qmatch(q,c.name+' '+c.bio)),i=>`
    <div class="card"><img src="${i.img}" class="thumb"><div><b>${i.name}</b><div class="small">${i.role}</div><div class="small">${i.bio}</div></div></div>`);
  renderGrid('planets-grid',DATA.planets.filter(p=>qmatch(q,p.name+' '+p.brief)),i=>`
    <div class="card"><img src="${i.img}" class="thumb"><div><b>${i.name}</b><div class="small">${i.brief}</div></div></div>`);
  renderGrid('starships-grid',DATA.starships.filter(s=>qmatch(q,s.name+' '+s.brief)),i=>`
    <div class="card"><img src="${i.img}" class="thumb"><div><b>${i.name}</b><div class="small">${i.brief}</div></div></div>`);
  renderGrid('films-grid',DATA.films.filter(f=>qmatch(q,f.title+' '+f.desc)),i=>`
    <div class="card"><b>${i.title} (${i.year})</b><div class="small">${i.desc}</div><div style="margin-top:8px"><iframe src="${i.yt}" style="width:100%;height:180px;border-radius:8px" allowfullscreen></iframe></div></div>`);
  renderFamilies();
  ['characters','planets','starships','films','families'].forEach(id=>{
    const el=document.getElementById(id);
    el.style.display=(active==='all'||active===id)?'block':'none';
  });
}
function renderGrid(id,list,templ){document.getElementById(id).innerHTML=list.map(templ).join('')||'<div class="small">Keine EintrÃ¤ge</div>';}
function renderFamilies(){
  const el=document.getElementById('families-list');
  el.innerHTML=Object.keys(DATA.families).map(f=>`<div class="card"><b>${f}</b><div class="small">${DATA.families[f].join(' â†’ ')}</div></div>`).join('');
}

/* ---------------- FACTS ---------------- */
document.getElementById('factBtn').addEventListener('click',()=>{
  const f=DATA.facts[Math.floor(Math.random()*DATA.facts.length)];
  const fb=document.getElementById('factBox');
  fb.style.display='block';fb.textContent=f;
  setTimeout(()=>fb.style.display='none',7000);
});

/* ---------------- AUDIO ---------------- */
const audio=document.getElementById('cantina');
const playBtn=document.getElementById('playBtn');
playBtn.addEventListener('click',()=>{
  if(!audio.src){alert('Keine Datei cantina_blues.mp3 gefunden.');return;}
  audio.paused?audio.play().catch(()=>alert('Autoplay blockiert â€“ bitte erneut tippen.')):audio.pause();
  playBtn.textContent=audio.paused?'â–¶ Cantina spielen':'â¸ Cantina an';
});

/* ---------------- THEME ---------------- */
const themeBtn=document.getElementById('themeBtn');
function applyTheme(t){
  if(t==='light'){document.documentElement.style.setProperty('--bg','#f7f7f7');document.body.style.color='#111';}
  else{document.documentElement.style.removeProperty('--bg');document.body.style.color='#eee';}
  localStorage.setItem('ja-theme',t);
}
themeBtn.addEventListener('click',()=>{
  const cur=localStorage.getItem('ja-theme')||'dark';
  applyTheme(cur==='dark'?'light':'dark');
});
(function(){applyTheme(localStorage.getItem('ja-theme')||'dark');})();

/* ---------------- YODA SPRÃœCHE ---------------- */
const logo=document.querySelector('.logo');
const yodaQuotes=[
  "Tu es oder tu es nicht. Es gibt kein Versuchen.",
  "Geduld du haben musst, junger Padawan.",
  "Immer der Dunkelheit widerstehen, du sollst.",
  "Lernen durch Tun, du wirst.",
  "MÃ¶ge die Macht mit dir sein."
];
logo.addEventListener('click',()=>{
  const quote=yodaQuotes[Math.floor(Math.random()*yodaQuotes.length)];
  alert(`Yoda sagt: "${quote}"`);
});

/* ---------------- INITIAL ---------------- */
renderAll();

/* --- Hinweis automatisch ausblenden --- */
const audioHint=document.getElementById('audio-hint');
fetch('cantina_blues.mp3',{method:'HEAD'}).then(r=>{if(r.ok)audioHint.style.display='none';}).catch(()=>{audioHint.style.display='block';});
</script>
</body>
</html>
