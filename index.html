<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Star Wars Galerie</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #000; color: #fff; margin: 0; padding: 0; }
    header { background-color: #111; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
    header img { width: 150px; height: auto; }
    header h1 { color:#ffe81f; margin:0; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 10px; padding: 10px; }
    .card { position: relative; background: #222; border-radius: 8px; overflow: hidden; display:flex; flex-direction:column; align-items:center; text-align:center; }
    .card img { width: 100%; height: 180px; object-fit:cover; }
    .overlay { position: absolute; bottom:0; width:100%; background: rgba(0,0,0,0.7); color:#ffe81f; padding:5px; font-size:0.9em; }
    .btn { background:#ffcc00; color:#000; border:none; padding:5px 10px; border-radius:5px; cursor:pointer; margin-top:5px; }
    .btn:hover { background:#ffaa00; }
    #trailerModalBg, #botModalBg, #adminModalBg { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.8); align-items:center; justify-content:center; }
    #trailerModalBg iframe { width:100%; height:450px; border:none; }
    #botModal, #adminModal { background:#222; padding:20px; border-radius:10px; width:90%; max-width:400px; color:white; }
    textarea,input{width:100%;padding:5px;margin-top:5px;}
  </style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6c/Star_Wars_Logo.svg" alt="Star Wars Logo">
    <h1>Jedi Archive</h1>
  </div>
  <div>
    <button id="themeToggle" class="btn">üåó Theme</button>
    <button id="playMusicBtn" class="btn">üéµ Musik</button>
    <button id="openBotBtn" class="btn">ü§ñ KI-Bot</button>
    <button id="openAdminBtn" class="btn">‚öôÔ∏è Admin</button>
  </div>
</header>

<audio id="music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="none" loop></audio>

<div class="grid" id="characters-grid"></div>
<div class="grid" id="planets-grid"></div>
<div class="grid" id="films-grid"></div>

<!-- Trailer Modal -->
<div id="trailerModalBg">
  <div style="position:relative;width:90%;max-width:800px;">
    <iframe id="trailerFrame" src=""></iframe>
    <button id="closeTrailerBtn" class="btn" style="position:absolute;top:5px;right:5px;">‚ùå Schlie√üen</button>
  </div>
</div>

<!-- KI Bot Modal -->
<div id="botModalBg">
  <div id="botModal">
    <h3>ü§ñ Jedi KI-Bot</h3>
    <div id="botMessages" style="height:200px;overflow:auto;border:1px solid #333;padding:5px;margin-bottom:10px;"></div>
    <input id="botInput" placeholder="Frag mich etwas √ºber Star Wars...">
    <button id="botSendBtn" class="btn">Senden</button>
    <button id="closeBotModal" class="btn" style="background:#444;color:#fff;">Schlie√üen</button>
  </div>
</div>

<!-- Admin Modal -->
<div id="adminModalBg">
  <div id="adminModal">
    <h3>‚öôÔ∏è Admin-Login</h3>
    <input id="adminPassInput" type="password" placeholder="Passwort eingeben">
    <button id="adminLoginBtn" class="btn">Login</button>
    <div id="adminPanel" style="display:none;margin-top:10px;">
      <textarea id="adminEditArea"></textarea>
      <button id="saveDataBtn" class="btn">Speichern</button>
    </div>
  </div>
</div>

<script>
let DATA = {
  characters:[
    {name:'Luke Skywalker', role:'Jedi-Ritter', img:'https://upload.wikimedia.org/wikipedia/commons/3/3e/Luke_Skywalker_SWSB.png'},
    {name:'Leia Organa', role:'Prinzessin', img:'https://upload.wikimedia.org/wikipedia/commons/1/1b/Leia_Organa_SWSB.png'},
    {name:'Han Solo', role:'Schmuggler', img:'https://upload.wikimedia.org/wikipedia/commons/4/4b/Han_Solo_SWSB.png'},
    {name:'Darth Vader', role:'Sith-Lord', img:'https://upload.wikimedia.org/wikipedia/commons/6/6e/Darth_Vader_SWSB.png'},
    {name:'Yoda', role:'Jedi-Meister', img:'https://upload.wikimedia.org/wikipedia/commons/8/8e/Yoda_SWSB.png'}
  ],
  planets:[
    {name:'Tatooine', brief:'W√ºstenplanet', img:'https://upload.wikimedia.org/wikipedia/commons/7/7d/Tatooine_SWSB.png'},
    {name:'Hoth', brief:'Eisplanet', img:'https://upload.wikimedia.org/wikipedia/commons/4/4e/Hoth_SWSB.png'},
    {name:'Endor', brief:'Waldmond', img:'https://upload.wikimedia.org/wikipedia/commons/3/3e/Endor_SWSB.png'},
    {name:'Naboo', brief:'Wasserplanet', img:'https://upload.wikimedia.org/wikipedia/commons/1/1e/Naboo_SWSB.png'},
    {name:'Coruscant', brief:'Stadtplanet', img:'https://upload.wikimedia.org/wikipedia/commons/2/2f/Coruscant_SWSB.png'}
  ],
  films:[
    {title:'Star Wars: Episode IV ‚Äì Eine neue Hoffnung', year:1977, desc:'Der erste Film der Reihe.', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Star_Wars_Logo.svg', trailer:'https://www.youtube.com/embed/1g3_CFmnU7k'},
    {title:'Star Wars: Episode V ‚Äì Das Imperium schl√§gt zur√ºck', year:1980, desc:'Der zweite Film der Reihe.', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Star_Wars_Logo.svg', trailer:'https://www.youtube.com/embed/8gZgXz5z7Jw'},
    {title:'Star Wars: Episode VI ‚Äì Die R√ºckkehr der Jedi-Ritter', year:1983, desc:'Der dritte Film der Reihe.', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Star_Wars_Logo.svg', trailer:'https://www.youtube.com/embed/5UfA_aSBqgQ'},
    {title:'Star Wars: Episode VII ‚Äì Das Erwachen der Macht', year:2015, desc:'Der siebte Film der Reihe.', img:'https://upload.wikimedia.org/wikipedia/commons/8/87/Star_Wars_Logo.svg', trailer:'https://www.youtube.com/embed/sGbxmsDFVnE'}
  ]
};

function renderGrid(id,list,tpl){document.getElementById(id).innerHTML=list.map(tpl).join('');}

function renderAll(){
  renderGrid('characters-grid', DATA.characters, c=>`
    <div class="card">
      <img src="${c.img}" alt="${c.name}">
      <div class="overlay"><b>${c.name}</b><br>${c.role}</div>
    </div>`);
  renderGrid('planets-grid', DATA.planets, p=>`
    <div class="card">
      <img src="${p.img}" alt="${p.name}">
      <div class="overlay"><b>${p.name}</b><br>${p.brief}</div>
    </div>`);
  renderGrid('films-grid', DATA.films, f=>`
    <div class="card">
      <img src="${f.img}" alt="${f.title}">
      <div class="overlay"><b>${f.title} (${f.year})</b><br>${f.desc}</div>
      <button class="btn" onclick="playTrailer('${f.trailer}')">‚ñ∂ Trailer</button>
    </div>`);
}
renderAll();

// Trailer
function playTrailer(url){document.getElementById('trailerFrame').src=url;document.getElementById('trailerModalBg').style.display='flex';}
document.getElementById('closeTrailerBtn').onclick=()=>{document.getElementById('trailerFrame').src='';document.getElementById('trailerModalBg').style.display='none';};

// Music
const music=document.getElementById('music');
document.getElementById('playMusicBtn').onclick=()=>{if(music.paused)music.play();else music.pause();};

// Theme
let dark=true;
document.getElementById('themeToggle').onclick=()=>{dark=!dark;document.body.style.background=dark?'#000':' 
