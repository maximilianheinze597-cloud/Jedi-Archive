<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jedi Archive</title>
<style>
  body { font-family: 'Arial', sans-serif; margin:0; background:#0b0b0b; color:#fff; overflow-x:hidden; }
  header { display:flex; align-items:center; justify-content:space-between; padding:10px 20px; background:#111; }
  .logo { height:50px; border-radius:8px; }
  h1 { margin:0; font-size:1.4em; color:#ffe81f; }
  .section { padding:15px; }
  .grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:10px; }
  .card { background:#222; padding:10px; border-radius:10px; text-align:center; }
  .thumb { width:100%; border-radius:10px; margin-bottom:5px; }
  .btn { background:#ffe81f; border:none; padding:6px 10px; border-radius:5px; cursor:pointer; font-weight:bold; text-decoration:none; display:inline-block; }
  .btn:hover { background:#fff24d; }
  #botModalBg { display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.8); align-items:center; justify-content:center; }
  #botModal { background:#222; padding:20px; border-radius:10px; width:90%; max-width:400px; color:white; }
  textarea { width:100%; height:80px; }
  input, button { font-family:inherit; }
</style>
</head>
<body>
<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="logo.JPG" class="logo" alt="Jedi Archives Logo">
    <h1>Jedi Archive</h1>
  </div>
  <div>
    <button id="themeToggle" class="btn">üåó Theme</button>
    <button id="playMusicBtn" class="btn">üéµ Musik</button>
    <button id="openBotBtn" class="btn">ü§ñ KI-Bot</button>
    <button id="openAdminBtn" class="btn">‚öôÔ∏è Admin</button>
  </div>
</header>

<audio id="music" src="cantina_blues.mp3" preload="none" loop></audio>

<div class="section">
  <input id="q" placeholder="Suche..." style="width:100%;padding:8px;border-radius:5px;border:none;margin-bottom:10px;">
</div>

<div class="section" id="characters">
  <h2>Charaktere</h2>
  <div id="characters-grid" class="grid"></div>
</div>

<div class="section" id="planets">
  <h2>Planeten</h2>
  <div id="planets-grid" class="grid"></div>
</div>

<div class="section" id="films">
  <h2>Filme</h2>
  <div id="films-grid" class="grid"></div>
</div>

<!-- KI Bot Modal -->
<div id="botModalBg">
  <div id="botModal">
    <h3>ü§ñ Jedi KI-Bot</h3>
    <div id="botMessages" style="height:200px;overflow:auto;border:1px solid #333;padding:5px;margin-bottom:10px;"></div>
    <input id="botInput" placeholder="Frag mich etwas √ºber Star Wars..." style="width:100%;padding:5px;">
    <button id="botSendBtn" class="btn">Senden</button>
    <button id="closeBotModal" class="btn" style="background:#444;color:#fff;">Schlie√üen</button>
  </div>
</div>

<!-- Admin Modal -->
<div id="adminModalBg" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.8);align-items:center;justify-content:center;">
  <div id="adminModal" style="background:#222;padding:20px;border-radius:10px;width:90%;max-width:400px;color:white;">
    <h3>‚öôÔ∏è Admin-Login</h3>
    <input id="adminPassInput" type="password" placeholder="Passwort eingeben" style="width:100%;padding:5px;">
    <button id="adminLoginBtn" class="btn" style="margin-top:10px;">Login</button>
    <div id="adminPanel" style="display:none;margin-top:15px;">
      <textarea id="adminEditArea"></textarea>
      <button id="saveDataBtn" class="btn" style="margin-top:10px;">Speichern</button>
    </div>
  </div>
</div>

<script>
let DATA = {
  characters: [
    {name:'Luke Skywalker', role:'Jedi-Meister', bio:'Luke Skywalker war der Sohn von Anakin Skywalker und Padm√© Amidala. Er wuchs auf Tatooine auf, wurde von Obi-Wan Kenobi ausgebildet und f√ºhrte sp√§ter die Neue Jedi-Ordnung an.', img:'luke.jpg'},
    {name:'Leia Organa', role:'Prinzessin und Generalin', bio:'Leia war Anf√ºhrerin der Rebellion, Tochter von Anakin Skywalker und Padm√© Amidala, sowie Zwillingsschwester von Luke. Sie war bekannt f√ºr ihren Mut, ihre strategische Intelligenz und ihren unersch√ºtterlichen Willen, das Imperium zu bek√§mpfen.', img:'leia.jpg'},
    {name:'Han Solo', role:'Schmuggler & Rebell', bio:'Charismatischer Schmuggler, der durch Zufall Teil der Rebellion wurde. Han Solo flog den Millennium Falken und half Luke und Leia mehrfach, das Imperium zu besiegen.', img:'han.jpg'},
    {name:'Darth Vader', role:'Sith-Lord', bio:'Einst Jedi-Anakin Skywalker, wurde er zu Darth Vader, einer der m√§chtigsten Sith-Lords, bevor er sich am Ende opferte, um seinen Sohn Luke zu retten.', img:'vader.jpg'},
    {name:'Yoda', role:'Jedi-Gro√ümeister', bio:'Der weise und uralte Jedi-Gro√ümeister Yoda trainierte Generationen von Jedi. Trotz seiner geringen Gr√∂√üe war er einer der m√§chtigsten Machtanwender aller Zeiten.', img:'yoda.jpg'},
    {name:'Obi-Wan Kenobi', role:'Jedi-Meister', bio:'Mentor von Luke Skywalker und legend√§rer Jedi-Ritter. K√§mpfte gegen das Imperium und leitete zahlreiche Jedi aus.', img:'obiwan.jpg'},
    {name:'Anakin Skywalker', role:'Jedi/Sith', bio:'Ehemaliger Jedi, sp√§ter Darth Vader. Vater von Luke und Leia, seine Geschichte zeigt den Fall und die Erl√∂sung.', img:'anakin.jpg'},
    {name:'Rey', role:'Jedi-Sch√ºlerin', bio:'Rey entdeckt ihre Verbindung zur Macht, trainiert unter Luke und k√§mpft gegen die Erste Ordnung, um die Galaxis zu retten.', img:'rey.jpg'},
    {name:'Kylo Ren', role:'Sith/Erste Ordnung', bio:'Kylo Ren, Sohn von Han und Leia, schwankt zwischen Licht und Dunkelheit und verfolgt seine eigenen Ziele.', img:'kylo.jpg'},
    {name:'Finn', role:'Ex-Sturmtruppler', bio:'Finn verl√§sst die Erste Ordnung und schlie√üt sich der Resistance an. Mutig, loyal und stets bereit, f√ºr das Gute zu k√§mpfen.', img:'finn.jpg'}
  ],
  planets: [
    {name:'Tatooine', brief:'Ein hei√üer W√ºstenplanet am Rand der Galaxis. Heimat von Anakin und Luke Skywalker. Bekannt f√ºr seine Zwillingssonnen und gef√§hrliche Sandleute.', img:'tatooine.jpg'},
    {name:'Coruscant', brief:'Ein Stadtplanet, der den gesamten Planeten bedeckt. Sitz des Galaktischen Senats und des Jedi-Tempels.', img:'coruscant.jpg'},
    {name:'Naboo', brief:'Ein friedlicher, gr√ºner Planet mit weiten Seen und Bergen. Heimat von Padm√© Amidala und Palpatine.', img:'naboo.jpg'},
    {name:'Hoth', brief:'Ein eisiger Planet im √Ñu√üeren Rand. Diente der Rebellenallianz als geheimer St√ºtzpunkt.', img:'hoth.jpg'},
    {name:'Endor', brief:'Ein bewaldeter Mond, Heimat der Ewoks. Schauplatz der finalen Schlacht gegen das Imperium.', img:'endor.jpg'},
    {name:'Mustafar', brief:'Vulkanischer Planet, auf dem Anakin Skywalker in Darth Vader verwandelt wurde.', img:'mustafar.jpg'},
    {name:'Jakku', brief:'Ein abgelegener W√ºstenplanet, Heimat von Rey in ihrer Kindheit.', img:'jakku.jpg'},
    {name:'Alderaan', brief:'Friedlicher Planet, zerst√∂rt vom Todesstern, Symbol f√ºr den Mut der Galaxis.', img:'alderaan.jpg'},
    {name:'Kamino', brief:'Wasserplanet, bekannt f√ºr die Produktion von Klontruppen f√ºr die Republik.', img:'kamino.jpg'}
  ],
  films: [
    {title:'Episode I: Die dunkle Bedrohung', year:1999, desc:'Ein junger Anakin Skywalker wird entdeckt und beginnt seine Jedi-Ausbildung. Die Handelsf√∂deration droht Naboo.', img:'episode1.jpg', trailer:'https://www.youtube.com/watch?v=bD7bpG-zDJQ'},
    {title:'Episode II: Angriff der Klonkrieger', year:2002, desc:'Anakin beginnt seine Ausbildung, Klonkriege brechen aus. Padm√© Amidala wird bedroht.', img:'episode2.jpg', trailer:'https://www.youtube.com/watch?v=gYbW1F_c9eM'},
    {title:'Episode III: Die Rache der Sith', year:2005, desc:'Anakin wird zu Darth Vader, das Imperium steigt auf und die Jedi werden fast ausgel√∂scht.', img:'episode3.jpg', trailer:'https://www.youtube.com/watch?v=5UnjrG_N8hU'},
    {title:'Episode IV: Eine neue Hoffnung', year:1977, desc:'Luke Skywalker entdeckt die Macht, k√§mpft mit der Rebellion gegen das Imperium.', img:'episode4.jpg', trailer:'https://www.youtube.com/watch?v=vZ734NWnAHA'},
    {title:'Episode V: Das Imperium schl√§gt zur√ºck', year:1980, desc:'Das Imperium greift die Rebellen auf Hoth an. Luke trainiert bei Yoda.', img:'episode5.jpg', trailer:'https://www.youtube.com/watch?v=JNwNXF9Y6kY'},
    {title:'Episode VI: Die R√ºckkehr der Jedi-Ritter', year:1983, desc:'Luke stellt sich Darth Vader und dem Imperator. Endor ist Schauplatz der finalen Schlacht.', img:'episode6.jpg', trailer:'https://www.youtube.com/watch?v=7L8p7_SLzvU'},
    {title:'Episode VII: Das Erwachen der Macht', year:2015, desc:'Rey entdeckt ihre Machtf√§higkeiten. Neue Helden treten gegen die Erste Ordnung an.', img:'episode7.jpg', trailer:'https://www.youtube.com/watch?v=sGbxmsDFVnE'},
    {title:'Episode VIII: Die letzten Jedi', year:2017, desc:'Rey trainiert bei Luke Skywalker. Die Konflikte zwischen Resistance und Erster Ordnung eskalieren.', img:'episode8.jpg', trailer:'https://www.youtube.com/watch?v=Q0CbN8sfihY'},
    {title:'Episode IX: Der Aufstieg Skywalkers', year:2019, desc:'Die finale Schlacht gegen die Erste Ordnung, Rey k√§mpft gegen Palpatine und die Saga endet.', img:'episode9.jpg', trailer:'https://www.youtube.com/watch?v=8Qn_spdM5Zg'}
  ]
};

function renderGrid(id, list, tpl){
  const el=document.getElementById(id);
  el.innerHTML = list.map(tpl).join('') || '<div class="small">Keine Eintr√§ge</div>';
}

function renderAll(){
  const q=document.getElementById('q').value.trim().toLowerCase();
  renderGrid('characters-grid', DATA.characters.filter(c=>c.name.toLowerCase().includes(q)||c.bio.toLowerCase().includes(q)), c=>`
    <div class="card">
      <img src="${c.img}" class="thumb" onerror="this.style.display='none'">
      <div><b>${c.name}</b></div>
      <div class="small">${c.role}</div>
      <p>${c.bio}</p>
    </div>`);
  renderGrid('planets-grid', DATA.planets.filter(p=>p.name.toLowerCase().includes(q)||p.brief.toLowerCase().includes(q)), p=>`
    <div class="card">
      <img src="${p.img}" class="thumb" onerror="this.style.display='none'">
      <div><b>${p.name}</b></div>
      <p>${p.brief}</p>
    </div>`);
  renderGrid('films-grid', DATA.films.filter(f=>f.title.toLowerCase().includes(q)||f.desc.toLowerCase().includes(q)), f=>`
    <div class="card">
      <img src="${f.img}" class="thumb" onerror="this.style.display='none'">
      <div><b>${f.title} (${f.year})</b></div>
      <p>${f.desc}</p>
      <a href="${f.trailer}" target="_blank" class="btn">üé¨ Trailer ansehen</a>
    </div>`);
}
renderAll();

// Musik Button
const music=document.getElementById('music');
document.getElementById('playMusicBtn').onclick=()=>{
  if(music.paused) music.play(); else music.pause();
};

// Theme Toggle
let dark=true;
document.getElementById('themeToggle').onclick=()=>{
  dark=!dark;
  document.body.style.background=dark?'#0b0b0b':'#fafafa';
  document.body.style.color=dark?'#fff':'#111';
};

// KI Bot
document.getElementById('openBotBtn').onclick=()=>{document.getElementById('botModalBg').style.display='flex';};
document.getElementById('closeBotModal').onclick=()=>{document.getElementById('botModalBg').style.display='none';};
document.getElementById('botSendBtn').onclick=()=>{
  const input=document.getElementById('botInput');
  const text=input.value.trim(); if(!text) return;
  const box=document.getElementById('botMessages');
  box.innerHTML+=`<div>Du: ${text}</div>`;
  input.value='';
  let reply='Ich sp√ºre viel Neugier in dir, junger Padawan...';
  DATA.characters.forEach(c=>{
    if(text.toLowerCase().includes(c.name.toLowerCase())){
      reply=`${c.name}: ${c.bio}`;
    }
  });
  DATA.planets.forEach(p=>{
    if(text.toLowerCase().includes(p.name.toLowerCase())){
      reply=`${p.name}: ${p.brief}`;
    }
  });
  box.innerHTML+=`<div style="color:#ffe81f">Jedi-Bot: ${reply}</div>`;
  box.scrollTop=box.scrollHeight;
};

// Admin Panel
document.getElementById('openAdminBtn').onclick=()=>{document.getElementById('adminModalBg').style.display='flex';};
document.getElementById('adminLoginBtn').onclick=()=>{
  const pass=document.getElementById('adminPassInput').value;
  if(pass==='starwars123'){
    document.getElementById('adminPanel').style.display='block';
    document.getElementById('adminEditArea').value=JSON.stringify(DATA,null,2);
  } else alert('Falsches Passwort!');
};
document.getElementById('saveDataBtn').onclick=()=>{
  try{
    DATA=JSON.parse(document.getElementById('adminEditArea').value);
    renderAll();
    alert('Daten aktualisiert!');
  }catch(e){alert('Fehlerhafte JSON-Daten');}
};
</script>
</body>
</html>
